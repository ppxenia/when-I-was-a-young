<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>

ul,li{
	list-style:none;}
	ul li{
		width:200px;
		height:100px;
		background:#3F6;
		border:2px solid #993;
		margin-bottom:20px;
		filter:alpha(opacity:30);
		opacity:0.3
		}

</style>
<script>
window.onload=function(){
	var aLi=document.getElementsByTagName('li');       //ByTagName??
	for(var i=0;i<aLi.length;i++){
		aLi[i].timer=null;             //for循环里定义定时器，就可以有让每一个块有自己的定时器，
		aLi[i].onmouseover=function(){      //让每一个块都有自己的动画，让代码更简洁
			startMove(this,400);
			}
			aLi[i].onmouseout=function(){
				startMove(this,200);
			}
			}
			}
	  //var timer = null;
	  var alpha=30;
	  function startMove(obj,iTarget){
		//  var aLi=document.getElementsByTagName('li');      为什么不需要这句话
		clearInterval(obj.timer);                       //把每一个的计时器都清除了
		obj.timer = setInterval(function(){
			var icur=parseInt(getStyle(obj,'width'));
		var speed =(iTarget-icur)/50;
		speed = speed >0?Math.ceil(speed):Math.floor(speed);    //处理速度使动画不出错，出错原因:像素必须是整数。
		if(icur == iTarget){
			clearInterval(obj.timer);
		}
		else{
			obj.style.width =icur + speed +'px';
			}
			},30)
		}
		function getStyle(obj,attr){                             //geyStyle 是一个已经封装好的获取样式的方法
	  if(obj.currentStyle){
         return obj.curentStyle[attr];                            //for IE;
       }
  else{
	  return  getComputedStyle(obj,false)[attr];          //for firefox;
	  }
	  }
</script>
</head>

<body>
<ul>
<li></li>
<li></li>
<li></li>
</ul>
</body>
</html>
